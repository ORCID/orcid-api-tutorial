<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>6. PUT&#58; Update an affiliation - Hands-on with the ORCID API</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../css/theme_override.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "6. PUT\u0026#58; Update an affiliation";
        var mkdocs_page_input_path = "put.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Hands-on with the ORCID API
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">1. Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../sandbox/">2. Set up the Sandbox</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../get/">3. GET&#58; authenticated iDs &amp; permission</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../read/">4. READ&#58; the record</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../post/">5. POST&#58; an affiliation</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">6. PUT&#58; Update an affiliation</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#a-little-about-put-codes">A little about put codes</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#update-an-education-affiliation">Update an education affiliation</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../display/">7. DISPLAY&#58; Presenting ORCID in your system</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../resources/">8. RESOURCES</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Other_methods_for_getting_authenticated_iDs/">9. Other methods for getting authenticated iDs</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Hands-on with the ORCID API</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>6. PUT&#58; Update an affiliation</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="this-guide-now-lives-at-httpsinfoorcidorghands-on-with-the-orcid-api-please-go-there-for-the-latest-version-thank-you">This guide now lives at <a href="https://info.orcid.org/hands-on-with-the-orcid-api/">https://info.orcid.org/hands-on-with-the-orcid-api/</a> please go there for the latest version. Thank you.</h1>
<p>In a real-world situation, you may need to update a researcher's affiliation. In this section, we'll update our education affiliation to include an end date.</p>
<h2 id="a-little-about-put-codes">A little about put codes</h2>
<p>Put codes are short numeric codes that reference a particular item on the ORCID record. You use the put code with the API calls to update, delete or read a particular item (as opposed to a summary of items.)</p>
<p>When you post an item to a researcher's record, the API response will contain the put code for that item. You can store the put code to use it later if you need to read, update, or delete that item. </p>
<p>To find out the put code for a particular item we don't have, we just need to read the record or a summary of the section where that item is located. The put code for the item we want to modify will be returned in the response.</p>
<p>In the example below we are updating a single education item. </p>
<h2 id="update-an-education-affiliation">Update an education affiliation</h2>
<p><strong>Note: if you saved the put code for your education affiliation, you can skip to step 4 below. If you didn't save the put code, please start with step 1 below. </strong></p>
<ol>
<li>
<p>First we need to get a <strong>put code</strong> for the education affiliation you just added so open a new Google Playground window and set it up following the first 4 steps from the <a href="../read/">Read the record</a>.</p>
</li>
<li>
<p>This time in the Request URI field enter <code>https://api.sandbox.orcid.org/v3.0/0000-XXXX-XXXX-XXXX/educations</code> . Note that we have added <code>/educations</code> to the end of the URI and that it is plural. This means we are fetching a summary of all the education items on this record, not just one (we would put it singular and added the <code>/put-code</code> of the item at the end)</p>
</li>
<li>
<p>Hit the 'Send the request' and you should see something like the image below in the <strong>Request/Response</strong> section. Find the <strong>put-code</strong> for the education affiliation that you added in the previous section (it will be a different number to the one highlighted here).<br>
<img src="../images/06-2_put-code.png" width="600" alt="Detailed view of Google OAuth Playground response for successful education affiliation POST request showing put-code" /></p>
</li>
<li>
<p>Change <strong>HTTP Method</strong> to <strong>PUT</strong><br>
<img src="../images/06-2_http-method-put.png" width="400" alt="Google OAuth Playground HTTP method set to PUT" /></p>
</li>
<li>
<p>Click <strong>Add Headers</strong> and make sure that <code>Accept</code> and <code>Content-type</code> are both set to <code>application/vnd.orcid+xml</code><br>
<img src="../images/06-2_put-headers.png" width="400" alt="Google OAuth Playground accept and Content-type header configuration" /></p>
</li>
<li>
<p>In the <strong>Request URI</strong> field enter:<br>
<code>https://api.sandbox.orcid.org/v3.0/[ORCID ID]/education/[PUT CODE]</code><br>
<em>Replace [ORCID ID] with the iD for your Sandbox record, format XXXX-XXXX-XXXX-XXXX and [PUT CODE] with the put-code for your education affiliation</em><br>
<img src="../images/06-2_request-uri.png" width="400" alt="Google OAuth Playground request URI configuration for updating an education affiliation" /></p>
</li>
<li>
<p>Grab the XML from the <a href="/post#add-an-education-affiliation">POST</a> section again and the click <strong>Enter request body</strong> and paste it in.</p>
</li>
<li>
<p>Inside the <code>&lt;education:education</code> tag, add <code>put-code=[PUT CODE]</code><br>
<em>Replace [PUT CODE] with the put-code for your education affiliation, ex <code>&lt;education:education put-code="26971"</code></em><br>
<img src="../images/06-2_request-body-1.png" width="600" alt="Google OAuth Playground Request Body configuration for updating an education affiliation showing where to place put-code" /></p>
</li>
<li>
<p>Copy the XML below which includes a start and end date for your education affiliation and paste it beneath the <code>&lt;/common:role-title&gt;</code> tag and above the <code>&lt;common:organization&gt;</code> tag (as seen on the screenshot below)<br></p>
<pre><code>&lt;common:start-date&gt;
        &lt;common:year&gt;1948&lt;/common:year&gt;
        &lt;common:month&gt;02&lt;/common:month&gt;
        &lt;common:day&gt;02&lt;/common:day&gt;
&lt;/common:start-date&gt;
&lt;common:end-date&gt;
        &lt;common:year&gt;1948&lt;/common:year&gt;
        &lt;common:month&gt;02&lt;/common:month&gt;
        &lt;common:day&gt;02&lt;/common:day&gt;
&lt;/common:end-date&gt;
</code></pre>
</li>
</ol>
<p><img src="../images/06-2_request-body-2.png" width="600" alt="Google OAuth Playground Request Body configuration for updating an education affiliation showing where to place end-date XML" /></p>
<ol>
<li>
<p>Click <strong>Close</strong>.</p>
</li>
<li>
<p>Click <strong>Send the Request</strong>.</p>
</li>
<li>
<p>The  results will appear in the <strong>Request/Response</strong> section at right. Scroll to the bottom – if you see <strong>HTTP/1.1 200 OK</strong>, your education affiliation was successfully updated! If you see an error message, check that the header values in <strong>Add headers</strong> have not been changed to garbled text, ex: <code>application%2Fvnd.orcid%2Bxml"</code><br>
<img src="../images/06-2_put-affiliation-response.png" width="600" alt="Google OAuth Playground response for successful education affiliation PUT request" /></p>
</li>
<li>
<p>Visit the <strong>public  view</strong> of your Sandbox record at <code>https://sandbox.orcid.org/[ORCID ID]</code> to see your updated education affiliation.<br>
<img src="../images/06-2_updated-affiliation.png" width="600" alt="ORCID record with updated education affiliation item" /><br></p>
</li>
</ol>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../post/" class="btn btn-neutral float-left" title="5. POST&#58; an affiliation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../display/" class="btn btn-neutral float-right" title="7. DISPLAY&#58; Presenting ORCID in your system">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../post/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../display/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
