<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>6. PUT&#58; Update an affiliation - Hands-on with the ORCID API</title><link rel="stylesheet" href="../assets/stylesheets/application.4031d38b.css"><script src="../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../assets/fonts/material-icons.css"><link rel="stylesheet" href="../css/theme_override.css"></head><body dir="ltr"><svg class="md-svg"><defs></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#a-little-about-put-codes" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href=".." title="Hands-on with the ORCID API" class="md-header-nav__button md-logo"><i class="md-icon"></i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Hands-on with the ORCID API</span><span class="md-header-nav__topic">6. PUT&#58; Update an affiliation</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href=".." title="Hands-on with the ORCID API" class="md-nav__button md-logo"><i class="md-icon"></i></a>Hands-on with the ORCID API</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href=".." title="1. Introduction" class="md-nav__link">1. Introduction</a></li><li class="md-nav__item"><a href="../sandbox/" title="2. Set up the Sandbox" class="md-nav__link">2. Set up the Sandbox</a></li><li class="md-nav__item"><a href="../get/" title="3. GET: authenticated iDs & permission" class="md-nav__link">3. GET&#58; authenticated iDs &amp; permission</a></li><li class="md-nav__item"><a href="../read/" title="4. READ: the record" class="md-nav__link">4. READ&#58; the record</a></li><li class="md-nav__item"><a href="../post/" title="5. POST: an affiliation" class="md-nav__link">5. POST&#58; an affiliation</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">6. PUT&#58; Update an affiliation</label><a href="./" title="6. PUT: Update an affiliation" class="md-nav__link md-nav__link--active">6. PUT&#58; Update an affiliation</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#a-little-about-put-codes" title="A little about put codes" class="md-nav__link">A little about put codes</a></li><li class="md-nav__item"><a href="#update-an-education-affiliation" title="Update an education affiliation" class="md-nav__link">Update an education affiliation</a></li></ul></nav></li><li class="md-nav__item"><a href="../display/" title="7. DISPLAY: Presenting ORCID in your system" class="md-nav__link">7. DISPLAY&#58; Presenting ORCID in your system</a></li><li class="md-nav__item"><a href="../resources/" title="8. RESOURCES" class="md-nav__link">8. RESOURCES</a></li><li class="md-nav__item"><a href="../Other_methods_for_getting_authenticated_iDs/" title="9. Other methods for getting authenticated iDs" class="md-nav__link">9. Other methods for getting authenticated iDs</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#a-little-about-put-codes" title="A little about put codes" class="md-nav__link">A little about put codes</a></li><li class="md-nav__item"><a href="#update-an-education-affiliation" title="Update an education affiliation" class="md-nav__link">Update an education affiliation</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><h1>6. PUT&#58; Update an affiliation</h1><p>In a real-world situation, you may need to update a researcher's affiliation. In this section, we'll update our education affiliation to include an end date.</p>
<h2 id="a-little-about-put-codes">A little about put codes</h2>
<p>Put codes are short numeric codes that reference a particular item on the ORCID record. You use the put code with the API calls to update, delete or read a particular item (as opposed to a summary of items.)</p>
<p>When you post an item to a researcher's record, the API response will contain the put code for that item. You can store the put code to use it later if you need to read, update, or delete that item. </p>
<p>To find out the put code for a particular item we don't have, we just need to read the record or a summary of the section where that item is located. The put code for the item we want to modify will be returned in the response.</p>
<p>In the example below we are updating a single education item. </p>
<h2 id="update-an-education-affiliation">Update an education affiliation</h2>
<p><strong>Note: if you saved the put code for your education affiliation, you can skip to step 4 below. If you didn't save the put code, please start with step 1 below. </strong></p>
<ol>
<li>
<p>First we need to get a <strong>put code</strong> for the education affiliation you just added so open a new Google Playground window and set it up following the first 4 steps from the <a href="../read/">Read the record</a>.</p>
</li>
<li>
<p>This time in the Request URI field enter <code>https://api.sandbox.orcid.org/v3.0/0000-XXXX-XXXX-XXXX/educations</code> . Note that we have added <code>/educations</code> to the end of the URI and that it is plural. This means we are fetching a summary of all the education items on this record, not just one (we would put it singular and added the <code>/put-code</code> of the item at the end)</p>
</li>
<li>
<p>Hit the 'Send the request' and you should see something like the image below in the <strong>Request/Response</strong> section. Find the <strong>put-code</strong> for the education affiliation that you added in the previous section (it will be a different number to the one highlighted here).<br>
<img src="../images/06-2_put-code.png" width="600" alt="Detailed view of Google OAuth Playground response for successful education affiliation POST request showing put-code" /></p>
</li>
<li>
<p>Change <strong>HTTP Method</strong> to <strong>PUT</strong><br>
<img src="../images/06-2_http-method-put.png" width="400" alt="Google OAuth Playground HTTP method set to PUT" /></p>
</li>
<li>
<p>Click <strong>Add Headers</strong> and make sure that <code>Accept</code> and <code>Content-type</code> are both set to <code>application/vnd.orcid+xml</code><br>
<img src="../images/06-2_put-headers.png" width="400" alt="Google OAuth Playground accept and Content-type header configuration" /></p>
</li>
<li>
<p>In the <strong>Request URI</strong> field enter:<br>
<code>https://api.sandbox.orcid.org/v3.0/[ORCID ID]/education/[PUT CODE]</code><br>
<em>Replace [ORCID ID] with the iD for your Sandbox record, format XXXX-XXXX-XXXX-XXXX and [PUT CODE] with the put-code for your education affiliation</em><br>
<img src="../images/06-2_request-uri.png" width="400" alt="Google OAuth Playground request URI configuration for updating an education affiliation" /></p>
</li>
<li>
<p>Grab the XML from the <a href="/post#add-an-education-affiliation">POST</a> section again and the click <strong>Enter request body</strong> and paste it in.</p>
</li>
<li>
<p>Inside the <code>&lt;education:education</code> tag, add <code>put-code=[PUT CODE]</code><br>
<em>Replace [PUT CODE] with the put-code for your education affiliation, ex <code>&lt;education:education put-code="26971"</code></em><br>
<img src="../images/06-2_request-body-1.png" width="600" alt="Google OAuth Playground Request Body configuration for updating an education affiliation showing where to place put-code" /></p>
</li>
<li>
<p>Copy the XML below which includes a start and end date for your education affiliation and paste it beneath the <code>&lt;/common:role-title&gt;</code> tag and above the <code>&lt;common:organization&gt;</code> tag (as seen on the screenshot below)<br></p>
<pre><code>&lt;common:start-date&gt;
        &lt;common:year&gt;1948&lt;/common:year&gt;
        &lt;common:month&gt;02&lt;/common:month&gt;
        &lt;common:day&gt;02&lt;/common:day&gt;
&lt;/common:start-date&gt;
&lt;common:end-date&gt;
        &lt;common:year&gt;1948&lt;/common:year&gt;
        &lt;common:month&gt;02&lt;/common:month&gt;
        &lt;common:day&gt;02&lt;/common:day&gt;
&lt;/common:end-date&gt;
</code></pre>
</li>
</ol>
<p><img src="../images/06-2_request-body-2.png" width="600" alt="Google OAuth Playground Request Body configuration for updating an education affiliation showing where to place end-date XML" /></p>
<ol>
<li>
<p>Click <strong>Close</strong>.</p>
</li>
<li>
<p>Click <strong>Send the Request</strong>.</p>
</li>
<li>
<p>The  results will appear in the <strong>Request/Response</strong> section at right. Scroll to the bottom – if you see <strong>HTTP/1.1 200 OK</strong>, your education affiliation was successfully updated! If you see an error message, check that the header values in <strong>Add headers</strong> have not been changed to garbled text, ex: <code>application%2Fvnd.orcid%2Bxml"</code><br>
<img src="../images/06-2_put-affiliation-response.png" width="600" alt="Google OAuth Playground response for successful education affiliation PUT request" /></p>
</li>
<li>
<p>Visit the <strong>public  view</strong> of your Sandbox record at <code>https://sandbox.orcid.org/[ORCID ID]</code> to see your updated education affiliation.<br>
<img src="../images/06-2_updated-affiliation.png" width="600" alt="ORCID record with updated education affiliation item" /><br></p>
</li>
</ol></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../post/" title="5. POST&#58; an affiliation" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>5. POST&#58; an affiliation</span></div></a><a href="../display/" title="7. DISPLAY&#58; Presenting ORCID in your system" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>7. DISPLAY&#58; Presenting ORCID in your system</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:".."}})</script></body></html>