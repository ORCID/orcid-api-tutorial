<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>5. POST&#58; an affiliation - Hands-on with the ORCID API</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../css/theme_override.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "5. POST\u0026#58; an affiliation";
        var mkdocs_page_input_path = "post.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Hands-on with the ORCID API
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">1. Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../sandbox/">2. Set up the Sandbox</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../get/">3. GET&#58; authenticated iDs &amp; permission</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../read/">4. READ&#58; the record</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">5. POST&#58; an affiliation</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#add-an-education-affiliation">Add an education affiliation</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_1"></a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../put/">6. PUT&#58; Update an affiliation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../display/">7. DISPLAY&#58; Presenting ORCID in your system</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../resources/">8. RESOURCES</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Other_methods_for_getting_authenticated_iDs/">9. Other methods for getting authenticated iDs</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Hands-on with the ORCID API</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>5. POST&#58; an affiliation</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="this-guide-now-lives-at-httpsinfoorcidorghands-on-with-the-orcid-api-please-go-there-for-the-latest-version-thank-you">This guide now lives at <a href="https://info.orcid.org/hands-on-with-the-orcid-api/">https://info.orcid.org/hands-on-with-the-orcid-api/</a> please go there for the latest version. Thank you.</h1>
<p>In this section, we'll add an education affiliation to our Sandbox record. As you have seen, you can use the API to GET (read) items on the record, and you can also POST (add), PUT (update), and DELETE any section of the record. The only things you need to change are the endpoints and the XML for each section. In the following example we are using the <code>/education</code> endpoint with the <a href="https://github.com/ORCID/orcid-model/blob/master/src/main/resources/record_3.0/samples/write_samples/education-3.0.xml">correct XML</a> to add the information, but you can just as well add Employment or Works for example. See our <a href="https://github.com/ORCID/orcid-model/blob/master/src/main/resources/record_3.0/README.md">Github documentation</a> for more example files and endpoints and the permissions you need for each.</p>
<h2 id="add-an-education-affiliation">Add an education affiliation</h2>
<p>Here's an example Education XML you can use for this exercise:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;education:education
    xmlns:common=&quot;http://www.orcid.org/ns/common&quot; xmlns:education=&quot;http://www.orcid.org/ns/education&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://www.orcid.org/ns/education ../education-3.0.xsd &quot;&gt;   
    &lt;common:department-name&gt;department-name&lt;/common:department-name&gt;
    &lt;common:role-title&gt;role-title&lt;/common:role-title&gt;
    &lt;common:organization&gt;
        &lt;common:name&gt;common:name&lt;/common:name&gt;
        &lt;common:address&gt;
            &lt;common:city&gt;common:city&lt;/common:city&gt;
            &lt;common:region&gt;common:region&lt;/common:region&gt;
            &lt;common:country&gt;AF&lt;/common:country&gt;
        &lt;/common:address&gt;
        &lt;common:disambiguated-organization&gt;
            &lt;common:disambiguated-organization-identifier&gt;http://dx.doi.org/10.13039/100000001&lt;/common:disambiguated-organization-identifier&gt;
            &lt;common:disambiguation-source&gt;FUNDREF&lt;/common:disambiguation-source&gt;
        &lt;/common:disambiguated-organization&gt;
    &lt;/common:organization&gt;      
    &lt;common:url&gt;http://tempuri.org&lt;/common:url&gt;  
    &lt;common:external-ids&gt;
        &lt;common:external-id&gt;
            &lt;common:external-id-type&gt;grant_number&lt;/common:external-id-type&gt;
            &lt;common:external-id-value&gt;external-identifier-value&lt;/common:external-id-value&gt;          
            &lt;common:external-id-url&gt;http://tempuri.org&lt;/common:external-id-url&gt;
            &lt;common:external-id-relationship&gt;self&lt;/common:external-id-relationship&gt;
        &lt;/common:external-id&gt;
        &lt;common:external-id&gt;
            &lt;common:external-id-type&gt;grant_number&lt;/common:external-id-type&gt;
            &lt;common:external-id-value&gt;external-identifier-value2&lt;/common:external-id-value&gt;         
            &lt;common:external-id-url&gt;http://tempuri.org/2&lt;/common:external-id-url&gt;
            &lt;common:external-id-relationship&gt;self&lt;/common:external-id-relationship&gt;
        &lt;/common:external-id&gt;
    &lt;/common:external-ids&gt;
&lt;/education:education&gt;
</code></pre>
<p><br></p>
<p>Still have that Google OAuth Playground window open? If so, continue with step 1 below. If not, you have two options:</p>
<ul>
<li>if you saved your authorization token from earlier fill out the Oauth Playground window as you had it on <a href="../read/">Read the record</a></li>
<li>if not, go back and repeat the <a href="../get/">Get an authorization code</a> and <a href="../get/#Exchange-authorization-code-for-access-token-and-authenticated-iD">Exchange authorization code for an access token</a> steps from the previous section before moving on to the steps below.</li>
</ul>
<h3 id="_1"></h3>
<ol>
<li>
<p>Beneath <strong>Step 3: Configure request to API</strong>, set <strong>HTTP Method</strong> to <strong>POST</strong>.</p>
<p><img src="../images/06-1_http-method-post.png" width="600" alt="Google OAuth Playground HTTP method set to POST" /></p>
</li>
<li>
<p>In the <strong>Request URI</strong> field enter:<br></p>
<p><code>https://api.sandbox.orcid.org/v3.0/[ORCID ID]/education</code><br></p>
<p><em>Replace [ORCID ID] with the iD for your Sandbox record, format XXXX-XXXX-XXXX-XXXX</em><br></p>
<p><img src="../images/06-1_request-uri.png" width="600" alt="Google OAuth Playground request URI configuration for adding an education affiliation" /></p>
</li>
<li>
<p>Click <strong>Content-type</strong> &gt; <strong>Custom</strong> and enter <code>application/vnd.orcid+xml</code><br></p>
</li>
<li>
<p>Click <strong>Add</strong>, then click <strong>Close</strong>.</p>
</li>
<li>
<p>Click <strong>Enter request body</strong>.</p>
</li>
<li>
<p>Copy the education affiliation XML at the top  of this section and paste it into the <strong>Request Body</strong> text box<br>
<img src="../images/06-1_request-body.png" width="600" alt="Google OAuth Playground Request Body configuration for new education affiliation" /></p>
</li>
<li><strong>OPTIONAL:</strong> In the <strong>Request Body</strong> text box, edit the XML to reflect your institution.<br>
<em>For <code>&lt;disambiguated-organization-identifier&gt;</code>, use the <a href="https://www.ringgold.com/identify/">Ringgold Identify database</a> to find the Ringgold ID for your institution (you'll need to <a href="https://ido.ringgold.com/register">register a free Ringgold account</a> in order to search the database).</em></li>
<li>Click <strong>Close</strong>.</li>
<li>Click <strong>Send the  request</strong>.</li>
<li>The  results will appear in the <strong>Request/Response</strong> section at right. Scroll to the bottom – if you see <strong>HTTP/1.1 201 Created</strong>, your education affiliation was successfully added!<br>
<img src="../images/06-1_post-affiliation-response.png" width="600" alt="Google OAuth Playground response for successful education affiliation POST request" /></li>
<li>Visit the public view of your Sandbox record at <code>https://sandbox.orcid.org/[ORCID ID]</code> to see your new education affiliation.<br>
<img src="../images/06-1_new-affiliation.png" width="600" alt="ORCID record with new education affiliation item added" /><br>
<em>Notice that </em><em>Source</em><em> shows the name of the API client that added the affiliation - this is a key element that helps other systems consuming ORCID data determine whether this piece of information is authoritative.</em>*</li>
</ol>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../read/" class="btn btn-neutral float-left" title="4. READ&#58; the record"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../put/" class="btn btn-neutral float-right" title="6. PUT&#58; Update an affiliation">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../read/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../put/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
